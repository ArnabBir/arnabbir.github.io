<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JCIP Atlas · Chapter 15 · Atomic Variables and Nonblocking Synchronization</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <div class="topbar">
    <div class="container">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h1>JCIP Interactive Atlas</h1>
            <span class="subtitle">Deep, interactive engineering notes · no dependencies</span>
          </div>
        </div>

        <div class="search" role="search" aria-label="Search">
          <span style="opacity:.8">⌕</span>
          <input id="globalSearch" type="text" placeholder="Search chapters &amp; modules…" aria-label="Search"/>
          <kbd id="searchHint" title="Press / to focus">/</kbd>
        </div>

        <div class="nav">
          <a class="chip active" href="index.html"><span class="dot"></span>Home</a><a class="chip" href="cheatsheet.html"><span class="dot"></span>Cheat Sheet</a><a class="chip" href="glossary.html"><span class="dot"></span>Glossary</a><a class="chip" href="patterns.html"><span class="dot"></span>Patterns</a>
          <button class="btn" id="themeToggle" title="Toggle theme (experimental)">☼</button>
        </div>
      </div>
    </div>
  </div>

  
  <div class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="hero-card">
          <div class="hero-card-inner">
            <div class="kicker"><span class="pill accent">Chapter 15</span><span class="pill ">IV · Advanced Topics</span><span class="pill ">Interactive engineering notes</span></div>
            <div class="h-title">Atomic Variables and Nonblocking Synchronization</div>
            <div class="h-sub">
      <div class="h-sub">
        A high-signal, example-driven companion to <i>Java Concurrency in Practice</i>. Each chapter distills the <b>engineering model</b> (invariants, failure modes, and APIs) into interactive labs and “production rules”.
        <div style="margin-top:10px" class="note"><strong>Copyright note:</strong> This atlas is an original learning aid and does not reproduce the book’s text. It provides new explanations, simulations, and example code.</div>
      </div>
    </div>
            <div class="cta-row"><a class="btn " href="chapter-14-building-custom-synchronizers.html">← Prev</a><a class="btn primary" href="index.html#chapters">All chapters</a><a class="btn " href="chapter-16-the-java-memory-model.html">Next →</a></div>
          </div>
        </div>
        <div class="right-stack">
        <div class="stat">
          <div class="row">
            <div>
              <div class="label">Key lens</div>
              <div class="value">Safety + Liveness + Performance</div>
            </div>
            <div class="badge ok">mental model</div>
          </div>
          <div class="hint">Safety: preserve invariants. Liveness: avoid waiting cycles & starvation. Performance: reduce contention & overhead.</div>
        </div>
        
        <div class="stat">
          <div class="row">
            <div>
              <div class="label">Workflow</div>
              <div class="value">Read → Simulate → Apply</div>
            </div>
            <div class="badge warn">practice</div>
          </div>
          <div class="hint">Use the labs to build intuition, then port the patterns to Java using j.u.c primitives.</div>
        </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="container">
      <h2>Chapter content</h2>
      <p class="lead">Search on this page filters cards and labs. Press <b>/</b> to jump to search, <b>Esc</b> to clear.</p>
      <div class="grid cols-2">
    <div class="card" data-searchable="Atomic variables: performance from avoiding kernel arbitration 
          Atomic variables map to hardware atomic instructions. Under low/moderate contention, they can avoid kernel-level parking/unparking and reduce context switching. Under high contention, retri">
      <div class="card-header">
        <h3>Atomic variables: performance from avoiding kernel arbitration</h3>
        <span class="badge ok">overview</span>
      </div>
      <div class="card-body">
        
          <p>Atomic variables map to hardware atomic instructions. Under low/moderate contention, they can avoid kernel-level parking/unparking and reduce context switching. Under high contention, retries can become expensive and backoff strategies matter.</p>
        
      </div>
      
    </div>
    
<div data-component="cas-lab">
    <div class="card" data-searchable="Nonblocking Lab: CAS, Contention &amp; ABA 
      Compare-and-set (CAS) enables lock-free algorithms by atomically updating a value if it still matches an expected value. Under contention, CAS can fail and retry. Under ABA, a value can change ">
      <div class="card-header">
        <h3>Nonblocking Lab: CAS, Contention &amp; ABA</h3>
        <span class="badge ok">interactive</span>
      </div>
      <div class="card-body">
        
      <p>Compare-and-set (CAS) enables lock-free algorithms by atomically updating a value if it still matches an expected value. Under contention, CAS can fail and retry. Under <b>ABA</b>, a value can change A→B→A and fool a plain CAS. Toggle “stamped CAS” to see how versioning detects ABA.</p>
      <div class="canvas-wrap"><canvas></canvas></div>
      <div class="controls">
        <div class="control">
          <label>Contention: <span id="contVal">40%</span></label>
          <input data-field="cont" type="range" min="0" max="1" step="0.01" value="0.40" />
          <div class="meta">Probability that another thread interferes.</div>
        </div>
        <div class="control">
          <label>ABA defense</label>
          <label style="display:flex; gap:10px; align-items:center; color:var(--muted); font-size:12px">
            <input data-field="stamp" type="checkbox" /> Use stamped/versioned reference
          </label>
          <div class="meta">Versioning makes “A again” distinguishable from “never changed”.</div>
        </div>
        <div style="display:flex; gap:10px; align-items:center;">
          <button class="btn primary" data-action="run">Run</button>
        </div>
      </div>
      <div class="divider"></div>
      <div class="cas-out"></div>
    
      </div>
      <div class="card-footer"><span class="badge warn cas-badge">press run</span><span style="color:var(--muted2)">In plain CAS, ABA may succeed incorrectly when interference occurs.</span></div>
    </div>
    </div>

    <div class="card" data-searchable="Nonblocking progress: lock-free vs wait-free 
          Nonblocking: a stalled thread can’t prevent others from making progress (no global lock to hold).
          Lock-free: system-wide progress is guaranteed (some thread completes in finite st">
      <div class="card-header">
        <h3>Nonblocking progress: lock-free vs wait-free</h3>
        <span class="badge warn">theory</span>
      </div>
      <div class="card-body">
        
          <p><b>Nonblocking</b>: a stalled thread can’t prevent others from making progress (no global lock to hold).</p>
          <p><b>Lock-free</b>: system-wide progress is guaranteed (some thread completes in finite steps).</p>
          <p><b>Wait-free</b>: every thread completes in finite steps (strongest, hardest to achieve).</p>
          <div class="divider"></div>
          <p>Many practical algorithms are lock-free but not wait-free; they can still starve a particular thread under adversarial scheduling.</p>
        
      </div>
      
    </div>
    

    <div class="card" data-searchable="Engineering guidance for atomics 
          Use atomics when your state transition can be expressed as a CAS on a single variable and you can tolerate retries. Prefer lock-free only when it materially improves throughput or tail late">
      <div class="card-header">
        <h3>Engineering guidance for atomics</h3>
        <span class="badge ok">practice</span>
      </div>
      <div class="card-body">
        
          <p>Use atomics when your state transition can be expressed as a CAS on a single variable and you can tolerate retries. Prefer lock-free only when it materially improves throughput or tail latency under contention, and when the complexity is justified.</p>
        
      </div>
      
    </div>
    </div>
    </div>
  </div>

  <div class="footer">
    <div class="container">
      <p><b>Navigation:</b> <a href="chapter-14-building-custom-synchronizers.html">← Prev</a> · <a href="index.html#chapters">All chapters</a> · <a href="chapter-16-the-java-memory-model.html">Next →</a></p>
      <p style="margin-top:8px">This atlas is a study aid with original explanations and simulations; it does not include the book’s text.</p>
    </div>
  </div>


  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="assets/app.js"></script>
</body>
</html>